"0",""
"0","## remove years with only NA data (e.g. China 1990)"
"0",""
"0","data <- data %>% "
"0","  group_by(iso,year) %>% "
"0","  mutate(year_total=sum(value,na.rm=T)) %>% "
"0","  ungroup()"
"0",""
"0","warning <- data %>% "
"0","  filter(year_total==0) %>% "
"0","  select(country,year) %>% "
"0","  distinct()"
"0",""
"0","if (length(warning$country) > 0) {"
"0","  for (i in 1:length(warning$country)) {"
"0","    print(paste0(""Warning: "",warning$country[i],"" in year "",warning$year[i],"" removed due to null values""))"
"0","  }"
"0","}"
"0",""
"0",""
"0","data <- data %>% "
"0","  filter(year_total!=0) %>% "
"0","  select(-year_total)"
"0",""
"0",""
